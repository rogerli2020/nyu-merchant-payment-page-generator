
<!DOCTYPE html>
<html lang="en">
	<head>
    
    <title>NYU ePayments</title>

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="author" content="NYU Financial Systems Management" />
	<meta charset="utf-8">
	<meta name="robots"	content="noindex, nofollow, noarchive" />
    <meta name="AdsBot-Google" content="noindex" />	
	
		
	<link rel="icon" href="//www.nyu.edu/common/images/favicon.ico" type="image/x-icon"/>
		
	<!-- jQuery is necessary if site uses search options ("People & Pages") and photo galleries (which use LightBox) -->
	
	<!-- GENERAL SCRIPTS -->	
	<script type="text/javascript" src="//www.nyu.edu/common/js/jquery-1.3.2.min.js"></script>	
	<!--<script type="text/javascript" src="//www.nyu.edu/v61/global/scripts/utils.js"></script>	-->
	
	<!-- LIGHT BOX -->
	<script type="text/javascript" src="//www.nyu.edu/common/js/jquery.lightbox-0.5.js"></script>
	
	<link rel="stylesheet" href="//www.nyu.edu/common/css/base.css" type="text/css" media="screen"/>	
	<link rel="stylesheet" href="//www.nyu.edu/common/css/cpTemps.css" type="text/css" media="screen"/>	
	<link rel="stylesheet" href="//www.nyu.edu/common/css/print.css" type="text/css" media="print"/>
	<link rel="stylesheet" href="//www.nyu.edu/common/css/forms.css" type="text/css" media="screen"/>


	<!-- PHOTO GALLERY -->
	<link rel="stylesheet" href="//www.nyu.edu/common/css/jquery.lightbox-0.5.css" type="text/css" media="screen"/>

	
	<!-- This controls the typography for Headers across the site -->
	<!-- CUFON -->
	<script type="text/javascript" src="//www.nyu.edu/common/js/cufon-yui.js"></script>
	
	<!-- Cufon: fonts -->
	<script type="text/javascript" src="//www.nyu.edu/common/js/gothamBook.js"></script>
	<script type="text/javascript" src="//www.nyu.edu/common/js/gothamMedium.js"></script>	
	<script type="text/javascript" src="//www.nyu.edu/common/js/cufonConfig.js"></script>

	</head>	

	<body>    
	<div id="masterContainer" class="category cpTemps">
				
	<span class="offLeft">New York University</span>
	
	<!-- JUMP LINKS -->
	<a class="offLeft" href="#contentWrapper">Skip to Content</a>
	<a class="offLeft" href="#searchField">Skip to Search</a>
	<a class="offLeft" href="#nav">Skip to Navigation</a>
	<a class="offLeft" href="#subnav">Skip to Sub Navigation</a>
		
<style media="screen" type="text/css">  
.my-select {
  visibility: hidden;
}		
.h3_nyu {
font-size: 22px	;
color: #57068c;	
font-family: Gotham, "Helvetica Neue", Helvetica, Arial, sans-serif;
}

.h6_nyu {
font-size: 9px	;
color: #57068c;	
font-weight: 600;	
font-family: Gotham, "Helvetica Neue", Helvetica, Arial, sans-serif;
}

      select {
		display: inline-block;  
        width: 14px;
        height: 10px;
        padding: 0px 1px 0px 1px;
        font-size: 18px;
        border: 6px solid #ccc;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        background: url("https://epay.nyu.edu/images/greenDownArrow.png") 96% / 3% no-repeat #eee;
      }	
</style>		
	
	<!-- BEGIN HEADER CONTAINER -->
		<div id="headerContainer">	
	
			<!-- BEGIN NYU LOGO AND SEARCH BOX -->
<div class="nyuLogoContainer">			
				<!-- LOGO -->
				<div class="nyuTorchLogo">
					<div class="nyuLogo" title="New York University Homepage"><a href="http://nyu.edu/nyu/en.html">
						<span class="offLeft">New York University</span></a>
					</div>
				</div>


				<!-- SEARCH SECTION -->
			
<!--	  <div class="nyuSearch">		
				<form id="searchForm" action="http://nyu.edu/content/nyu/en/search.html" method="get">
					<div id="searchBar">					
						<label for="searchField" class="offLeft">Search</label>
			
						<input type="text" id="searchField" name="search" value="" Placeholder="Search..."/>					
					</div>
		
					<button id="searchBtn" type="submit"></button>
		
					<ul id="searchTypes" style="display:none;">
						<li><a class="searchTypeSelected" href="http://nyu.edu/search.html">Pages</a><span class="searchTypePipe">|</span></li>
						<li><a href="http://nyu.edu/search.directory.html">People</a></li>				
					</ul>					
				</form>		
			</div>
				
-->	
				
</div>
<!-- END NYU LOGO AND SEARH BOX -->
	
</div>
<!-- END HEADER CONTAINER -->


<!-- DO NOT ERASE -->
<!-- BEGIN CONTENT WRAPPER -->
<div id="contentWrapper">

    <!-- DO NOT ERASE -->
    <!-- Triple (3-column) box -->
    <div class="tripleBox rightBorder">

        <!-- CONTENT GOES HERE -->
<a href="https://nyuad.nyu.edu/en/">
    <img src="https://epay.nyu.edu/images/ad/NYUAD_primary_color_logo_nopadding.png"  width="150" height="auto" alt="Abu Dhabi Logo"/>
</a>		
		<br /><br />


<p class="h3_nyu" style="line-height: normal; font-size: xx-large;">
	<strong>{{STORE_NAME}}</strong><br/>
	
	</p>
<p class="h3_nyu" style="font-weight: normal;font-size:x-large;">ePayment Portal</p>		
<hr>		
<br />		
<!--		<h1>TEST MODE - DO NOT SUBMIT REAL CARDS</h1>  -->
<p>{{STORE_BLURB}}</p>
<p>{{REFUND_POLICY}}</p>
		
<p>Once you complete the required information, you will be redirected to a secure page on which you will be asked to enter in your credit card information. 
	Please note, you will receive confirmation after your payment has been processed.</p>
		

<hr style="background-color:#57068c; width:25%;">
	
<p><b>* Fields marked with an asterisk (*) are required.</b></p>

        <div id="formContainer">
            <div class="text section">
                <div class="fullSize">
                    <!-- <form name="TransactionFormAD" action="{{POST_URL}}" method="post" id="TransactionFormAD"> -->
                    {{FORM_TAG}}

                        <!-- REQUIRED FIELD...  Make sure you enter YOUR form_id -->
                        <input type="hidden" name="{{FORM_ID}}" id="{{FORM_ID}}" value="{{FORM_ID_VALUE}}" />

                        <input type="hidden" name="{{FORM_SUCCESS_URL}}" value="{{FORM_SUCCESS_URL_VALUE}}" />
                        <input type="hidden" name="{{FORM_FAILURE_URL}}" value="{{FORM_FAILURE_URL}}" />


                        <!-- Make sure to turn off the Test Flag before making this page live! Review the information about toggling between Test and Production modes at http://www.nyu.edu/epayments/secure/create-a-payment-page.html -->

                        <input type="hidden" name="TEST_FLAG" id="TEST_FLAG" value="N" />   

                        <input type="hidden" name="merchantDefinedData1" id="merchantDefinedData1" value="AD Event-Fee">
                        <input type="hidden" name="merchantDefinedData2" id="merchantDefinedData2" value="4885">	
                        <input type="hidden" name="merchantDefinedData3" id="merchantDefinedData3" value="owner-hlg2">	
                        <input type="hidden" name="merchantDefinedData4" id="merchantDefinedData4" value="VAT">	 
                        <input type="hidden" name="merchantDefinedData5" id="merchantDefinedData5" value="edited by hlg2">	 


 
						<!-- Sub Heading 1-->
						<p>&nbsp; </p>
						<h3 style="color: #57068c">1. {{MODIFIERS_SECTION_TITLE}}</h3>

                        {{MODIFIERS_SECTION}}
                        
						<!-- <label for="zreg_fname"><b>* Registrant First Name:</b><br /></label>
                        <input type="text" name="zreg_fname" id="zreg_fname" placeholder="John" autocomplete="on"/><br/>

						<label for="zreg_lname"><b>* Registrant Family/Last Name:</b><br /></label>
                        <input type="text" name="zreg_lname" id="zreg_lname" placeholder="Smith" autocomplete="on"><br/>
						
					    <label for="regEMAIL"><b>* Registrant's Email Address</b><br /></label>
                        <input type="text" name="regEMAIL" id="regEMAIL" size="30" value="" placeholder="nyu123@nyu.edu" autocomplete="on"/><br /> -->

						<!--
					    <label for="nationality1"><b>Nationality</b><br /></label>
                        <input type="text" name="nationality1" id="nationality1" size="30" value="" placeholder="USA"/><br />						

					    <label for="campusID"><b>Registrant's NYU Campus ID</b> <br/><span class="h6_nyu">Leave blank if not affilated with NYU</span><br /></label>
                        <input type="text" name="campusID" id="campusID" size="9" value="" placeholder="N12345678"/><br />

					    <label for="netid"><b>University NetID</b> <br/><span class="h6_nyu">Leave blank if not affilated with NYU</span><br /></label>
                        <input type="text" name="netid" id="netid" size="15" value="" placeholder="nyu123"/><br />
						-->
						
						<!--
						<label for="coursechoice"><b>*Course Choice</b><br /></label><br/>					
						<select id="coursechoice" name="coursechoice" >
							 <option value="none" selected="selected" disabled="disabled">Please Choose One...</option>	
						<optgroup Label="List of courses offered in 2024" >
						    <option value="digital_history">Digital History</option>
						    <option value="web_archiving_for_Digital_fieldwork">Web Archiving for Digital Fieldwork</option>
							<option value="intro_to_R_for_the_ArtsandHumanities">Introduction to R for the Arts and Humanities</option>
							<option value="computing_culture-An_intro_to_applied_methods_in_data_and_culture">Computing Culture: An Introduction to Applied Methods in Data and Cultural Heritage</option>
							<option value="arabic_digital_humanities">Arabic Digital Humanities</option>
							<option value="implementing_learner-created_podcasts">Implementing Learner-Created Podcasts</option>
							<option value="image_analysis">Image Analysis</option>
							<option value="digital_cultural_hertitage">Digital Cultural Heritage</option>
							<option value="Sonic_Methods_for_Research_and_Pedagogy">Sonic Methods for Research and Pedagogy</option>
							<option value="Exploring_Technologies_of_Text">Exploring Technologies of Text</option>
						</optgroup>
						
						</select>
						-->

	
	<!-- Sub Sub Heading 1 Label -->
<!--
	<h6><b>* Course Choice <i>(select one from below)</i> </b></h6>	<br/>
				
				
    <table style="
      border-style: solid; 
      border-width: 1px; 
      border-radius: 5px;
      border-color: rgb(0,0,0,0.25);
      margin-left: 15px;">

      <tr>
    
         <td colspan="2">   
          </td> 
      </tr>
         
        <tr><td colspan="2">	 <span style="float: left; color: black; ">
           <input type="radio" style="width: 20px;" name="coursechoicex" id="choice1" size="3" value="digital_history"/><a href="https://wp.nyu.edu/widh/widh-2024/#dighist" title="Digital History" target="_blank">Digital History</a> </span><br />
          </td></tr>	
		
        <tr><td colspan="2">	 <span style="float: left; color: black; ">
           <input type="radio" style="width: 20px;" name="coursechoicex" id="choice2" size="3" value="web_archiving_for_Digital_fieldwork" /><a href="https://wp.nyu.edu/widh/widh-2024/#archiving" title="Web Archiving for Digital Fieldwork" target="_blank">Web Archiving for Digital Fieldwork</a> </span><br />
          </td></tr>
 		
        <tr><td colspan="2">	 <span style="float: left; color: black; ">
           <input type="radio" style="width: 20px;" name="coursechoicex" id="choice3" size="3" value="intro_to_R_for_the_ArtsandHumanities" /><a href="https://wp.nyu.edu/widh/widh-2024/#rah" title="Introduction to R for the Arts and Humanities" target="_blank">Introduction to R for the Arts and Humanities</a> </span><br />
          </td></tr>	
        <tr><td colspan="2">	 <span style="float: left; color: black; ">
           <input type="radio" style="width: 20px;" name="coursechoicex" id="choice4" size="3" value="computing_culture-An_intro_to_applied_methods_in_data_and_culture" /><a href="https://wp.nyu.edu/widh/widh-2024/#compcult" title="Computing Culture: An Introduction to Applied Methods in Data and Cultural Heritage" target="_blank">Computing Culture: An Introduction to Applied Methods in Data and Cultural Heritage</a></span><br />
          </td></tr>	
        <tr><td colspan="2">	 <span style="float: left; color: black; ">
           <input type="radio" style="width: 20px;" name="coursechoicex" id="choice5" size="3" value="arabic_digital_humanities" /><a href="https://wp.nyu.edu/widh/widh-2024/#arabdh" title="Arabic Digital Humanities" target="_blank">Arabic Digital Humanities</a> </span><br />
          </td></tr>	
		
        <tr><td colspan="2">	 <span style="float: left; color: black; ">
           <input type="radio" style="width: 20px;" name="coursechoicex" id="choice6" size="3" value="implementing_learner-created_podcasts" /><a href="https://wp.nyu.edu/widh/widh-2024/#podcasts" title="Implementing Learner-Created Podcasts" target="_blank">Implementing Learner-Created Podcasts</a></span><br />
          </td></tr>	
        <tr><td colspan="2">	 <span style="float: left; color: black; ">
           <input type="radio" style="width: 20px;" name="coursechoicex" id="choice7" size="3" value="image_analysis" /><a href="https://wp.nyu.edu/widh/widh-2024/#image" title="Image Analysis" target="_blank">Image Analysis</a> </span><br />
          </td></tr>	

		<tr><td colspan="2">	 <span style="float: left; color: black; ">
           <input type="radio" style="width: 20px;" name="coursechoicex" id="choice8" size="3" value="digital_cultural_hertitage" /><a href="https://wp.nyu.edu/widh/widh-2024/#digcult" title="Digital Cultural Heritage" target="_blank">Digital Cultural Heritage</a></span><br />
          </td></tr>	

        <tr><td colspan="2">	 <span style="float: left; color: black; ">
           <input type="radio" style="width: 20px;" name="coursechoicex" id="choice9" size="3" value="Sonic_Methods_for_Research_and_Pedagogy" /><a href="https://wp.nyu.edu/widh/widh-2024/#sonic" title="Sonic Methods for Research and Pedagogy" target="_blank">Sonic Methods for Research and Pedagogy</a></span><br />
          </td></tr>	
     
		<tr><td colspan="2">	 <span style="float: left; color: black; ">
           <input type="radio" style="width: 20px;" name="coursechoicex" id="choice10" size="3" value="Exploring_Technologies_of_Text" /><a href="https://wp.nyu.edu/widh/widh-2024/#exptech" title="Exploring Technologies of Text" target="_blank">Exploring Technologies of Text</a></span><br />
          </td></tr>	
      
		
      <tr> 
        <td>
        </td>
      </tr>
    </table>
-->
					
						<!-- Sub Heading 2-->
						<p>&nbsp;</p>
 						<h3 style="color: #57068c">2. Payment Details</h3>

                        {{PAYMENT_SECTION}}

                        <!-- Non-Gift Chart Fields 1 (e.g. event registration, tickets, merchandise) -->
                        <!-- These values are optional but recommended.  If left blank then the default values on the form will be used. -->

						<!-- VAT Tax-->
						
						<!--
						<label for="sectionHeader">VAT Tax (TRAN_EVT_4, Field will be HIDDEN on final Approval)</label>-->
                        <input type="hidden" name="TRAN_EVT_4" id="TRAN_EVT_4" VALUE="0" readonly >
			
						<!--
						<label for="sectionHeader">Conf Cost less VAT (TRAN_EVT_5, Field will be HIDDEN on final Approval) would be AMOUNT_EVT_1 in future</label> -->
                        <input type="hidden" name="TRAN_EVT_5" id="TRAN_EVT_5" VALUE="0" readonly  >
						
						<!--
						<label for="sectionHeader">Dinner Tour Cost less VAT (TRAN_EVT_6, Field will be HIDDEN on final Approval) would be AMOUNT_EVT_2 in future</label> -->
                        <input type="hidden" name="TRAN_EVT_6" id="TRAN_EVT_6" VALUE="0" readonly >

						<!--
						<label for="sectionHeader">Safari Cost less VAT (TRAN_EVT_7, Field will be HIDDEN on final Approval) would be AMOUNT_EVT_3 in future</label> -->
                        <input type="hidden" name="TRAN_EVT_7" id="TRAN_EVT_7" VALUE="0" readonly >

						<!--
						<label for="sectionHeader">Safari Cost less VAT (TRAN_EVT_7, Field will be HIDDEN on final Approval) would be AMOUNT_EVT_3 in future</label> -->
                        <input type="hidden" name="TRAN_EVT_7b" id="TRAN_EVT_7b" VALUE="0" readonly >

						
						<!-- 
						<label for="sectionHeader">Conf VAT Only (TRAN_EVT_8, Field will be HIDDEN on final Approval) </label> -->
                        <input type="hidden" name="TRAN_EVT_8" id="TRAN_EVT_8" VALUE="0" readonly >

						<!--
						<label for="sectionHeader">Dinner Tour VAT Only (TRAN_EVT_9, Field will be HIDDEN on final Approval) </label> -->
                        <input type="hidden" name="TRAN_EVT_9" id="TRAN_EVT_9" VALUE="0" readonly >
						
						<!--
						<label for="sectionHeader">Safari VAT Only (TRAN_EVT_10, Field will be HIDDEN on final Approval) </label> -->
                        <input type="hidden" name="TRAN_EVT_10" id="TRAN_EVT_10" VALUE="0" readonly >

						<!--
						<label for="sectionHeader">Safari VAT Only (TRAN_EVT_10, Field will be HIDDEN on final Approval) </label> -->
                        <input type="hidden" name="TRAN_EVT_10b" id="TRAN_EVT_10b" VALUE="0" readonly >
						
						<!--
						<label for="sectionHeader">Safari VAT Only (TRAN_EVT_10, Field will be HIDDEN on final Approval) </label> -->
                        <input type="hidden" name="TRAN_EVT_11" id="TRAN_EVT_11" VALUE="0" readonly >
						
						<!--
						<label for="sectionHeader">line 1 sub (TRAN_EVT_12, Field will be HIDDEN on final Approval) </label> -->
                        <input type="hidden" name="TRAN_EVT_12" id="TRAN_EVT_12" VALUE="0" readonly >
						
						<!--
						<label for="sectionHeader">line 2 sub (TRAN_EVT_14, Field will be HIDDEN on final Approval) </label> -->
                        <input type="hidden" name="TRAN_EVT_13" id="TRAN_EVT_13" VALUE="0" readonly >

						<!--
						<label for="sectionHeader">line 2 sub (TRAN_EVT_14, Field will be HIDDEN on final Approval) </label> -->
                        <input type="hidden" name="TRAN_EVT_14" id="TRAN_EVT_14" VALUE="0" readonly >

						<!--
						<label for="sectionHeader">line 2 sub (TRAN_EVT_14, Field will be HIDDEN on final Approval) </label> -->
                        <input type="hidden" name="TRAN_EVT_15" id="TRAN_EVT_15" VALUE="0" readonly >
						<!--
						<label for="TRAN_EVT_16">line 2 sub (TRAN_EVT_16, Field will be HIDDEN on final Approval) </label> -->
                        <input type="hidden" name="TRAN_EVT_16" id="TRAN_EVT_16" VALUE="0" readonly >
						<!--
						<label for="TRAN_EVT_17">line 2 sub (TRAN_EVT_17, Field will be HIDDEN on final Approval) </label> -->
                        <input type="hidden" name="TRAN_EVT_17" id="TRAN_EVT_17" VALUE="0" readonly >
						
						
						<!--<label for="AMOUNT_EVT_1">Summary VAT Only (AMOUNT_EVT_1, Field will be HIDDEN on final Approval) AMOUNT_EVT_1 in future</label>-->
                        <input type="hidden" name="{{AMOUNT_EVT_1}}" id="{{AMOUNT_EVT_1}}" VALUE="0" readonly>
                        <input type="hidden" name="{{ACCOUNT_EVT_1}}" id="{{ACCOUNT_EVT_1}}" value="{{ACCOUNT_EVT_1_VALUE}}" readonly>
                        <input type="hidden" name="{{FUND_CODE_EVT_1}}" id="{{FUND_CODE_EVT_1}}"  value="{{FUND_CODE_EVT_1_VALUE}}" readonly>
                        <input type="hidden" name="{{DEPTID_EVT_1}}" id="{{DEPTID_EVT_1}}" value="{{DEPTID_EVT_1_VALUE}}" readonly>
                        <input type="hidden" name="{{PROGRAM_CODE_EVT_1}}" id="{{PROGRAM_CODE_EVT_1}}" value="{{PROGRAM_CODE_EVT_1_VALUE}}" readonly>
                        <input type="hidden" name="{{PROJECT_ID_EVT_1}}" id="{{PROJECT_ID_EVT_1}}" value="{{PROJECT_ID_EVT_1_VALUE}}" readonly> 

						
						<!-- <label for="AMOUNT_EVT_2">Summary of Gift Only (Field will be HIDDEN on final Approval) would be AMOUNT_EVT_2 in future</label> -->
                        <input type="hidden" name="{{AMOUNT_EVT_2}}" id="{{AMOUNT_EVT_2}}" VALUE="0" readonly>
                        <input type="hidden" name="{{ACCOUNT_EVT_2}}" id ="{{ACCOUNT_EVT_2}}" value="{{ACCOUNT_EVT_2_VALUE}}" readonly>
                        <input type="hidden" name="{{FUND_CODE_EVT_2}}" id="{{FUND_CODE_EVT_2}}" value="{{FUND_CODE_EVT_2_VALUE}}" readonly>
                        <input type="hidden" name="{{DEPTID_EVT_2}}" id="{{DEPTID_EVT_2}}" value="{{DEPTID_EVT_2_VALUE}}" readonly>
                        <input type="hidden" name="{{PROGRAM_CODE_EVT_2}}" id="{{PROGRAM_CODE_EVT_2}}" value="{{PROGRAM_CODE_EVT_2_VALUE}}" readonly>
                        <input type="hidden" name="{{PROJECT_ID_EVT_2}}" id="{{PROJECT_ID_EVT_2}}" value="{{PROJECT_ID_EVT_2_VALUE}}" readonly>
						

						
					    <label for="{{AMOUNT_PAID}}"><strong>Registration fee and 5% VAT tax total.</strong></label>
						<!-- -->
						
						<!--<label for="sectionHeader">Total Amount in USD Currency (AMOUNT_PAID field. This field will be HIDDEN on final approval)</label> -->
						<!-- type should be Hidden-->
						<input type="number" name="{{AMOUNT_PAID}}" id="{{AMOUNT_PAID}}" value="0" readonly >
                        <!-- Some javascript to populate AMOUNT_PAID -->
						
						
						
						<!-- Sub Heading 3-->
						<p>&nbsp;</p>
 						<h3 style="color: #57068c">3. Billing Information</h3>



                       <label for="{{FIRST_NAME}}"><b>* Cardholder's First Name</b><br />
						   <i class="h6_nyu">Please enter the credit card holder's first name as it appears on the card.</i></label>
                        <input type="text" name="{{FIRST_NAME}}" id="{{FIRST_NAME}}" size="12" value="" autocomplete="on"/>
                        
                        {{BILL_LAST_NAME_FIELD}}
						<label for="LAST_NAME"><b>* Cardholder's Last Name</b><br />
							<i class="h6_nyu">Please enter the credit card holder's last name as it appears on the card.</i></label>

                        <input type="text" name="LAST_NAME" id="LAST_NAME" size="16" value="" autocomplete="on"/>
						
                        <label for="{{ADDRESS_LINE_1}}"><br />
                            <b>* Cardholder's Street Address</b><br />
                            <i class="h6_nyu">Please enter the credit card billing address.</i></label>
                        <input type="text" name="{{ADDRESS_LINE_1}}" id="{{ADDRESS_LINE_1}}" size="50" value="" autocomplete="on" />

                        <label for="{{CITY}}"><br /><b>* City/Province</b></label>
                        <input type="text" name="{{CITY}}" id="{{CITY}}" size="16" value="" autocomplete="on"/>

                        <label for="{{STATE}}"><br /><b>* State</b></label>

                        <select name="{{STATE}}" id="{{STATE}}" autocomplete="on">
                            <option value="NA" selected="selected"> Non-US</option>

                            <option value="" style="font-weight: bold;"> </option>
                            <option value="" style="font-weight: bold;">- US Territories</option>
                            <option value="AS">American Samoa</option>
                            <option value="GU">Guam</option>
                            <option value="MP">Northern Mariana Islands</option>
                            <option value="PR">Puerto Rico</option>
                            <option value="UM">United States Minor Outlying Islands</option>
                            <option value="VI">Virgin Islands</option>

                            <option value="" style="font-weight: bold;"> </option>
                            <option value="" style="font-weight: bold;">- Armed Forces</option>
                            <option value="AA">Armed Forces Americas</option>
                            <option value="AP">Armed Forces Pacific</option>
                            <option value="AE">Armed Forces Others</option>

                            <option value="" style="font-weight: bold;"> </option>
                            <option value="" style="font-weight: bold;">- Canadian Provinces</option>
                            <option value="AB">Alberta</option>
                            <option value="BC">British Columbia</option>
                            <option value="MB">Manitoba</option>
                            <option value="NB">New Brunswick</option>
                            <option value="NL">Newfoundland and Labrador</option>
                            <option value="NS">Nova Scotia</option>
                            <option value="ON">Ontario</option>
                            <option value="PE">Prince Edward Island</option>
                            <option value="QC">Quebec</option>
                            <option value="SK">Saskatchewan</option>
                            <option value="NT">Northwest Territories</option>
                            <option value="NU">Nunavut</option>
                            <option value="YT">Yukon</option>

                            <option value="" style="font-weight: bold;"> </option>
                            <option value="" style="font-weight: bold;">- American States</option>
                            <option value="AL">Alabama</option>
                            <option value="AK">Alaska</option>
                            <option value="AZ">Arizona</option>
                            <option value="AR">Arkansas</option>
                            <option value="CA">California</option>
                            <option value="CO">Colorado</option>
                            <option value="CT">Connecticut</option>
                            <option value="DE">Delaware</option>
                            <option value="DC">District of Columbia</option>
                            <option value="FL">Florida</option>
                            <option value="GA">Georgia</option>
                            <option value="HI">Hawaii</option>
                            <option value="ID">Idaho</option>
                            <option value="IL">Illinois</option>
                            <option value="IN">Indiana</option>
                            <option value="IA">Iowa</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="ME">Maine</option>
                            <option value="MD">Maryland</option>
                            <option value="MA">Massachusetts</option>
                            <option value="MI">Michigan</option>
                            <option value="MN">Minnesota</option>
                            <option value="MS">Mississippi</option>
                            <option value="MO">Missouri</option>
                            <option value="MT">Montana</option>
                            <option value="NE">Nebraska</option>
                            <option value="NV">Nevada</option>
                            <option value="NH">New Hampshire</option>
                            <option value="NJ">New Jersey</option>
                            <option value="NM">New Mexico</option>
                            <option value="NY">New York</option>
                            <option value="NC">North Carolina</option>
                            <option value="ND">North Dakota</option>
                            <option value="OH">Ohio</option>
                            <option value="OK">Oklahoma</option>
                            <option value="OR">Oregon</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="RI">Rhode Island</option>
                            <option value="SC">South Carolina</option>
                            <option value="SD">South Dakota</option>
                            <option value="TN">Tennessee</option>
                            <option value="TX">Texas</option>
                            <option value="UT">Utah</option>
                            <option value="VT">Vermont</option>
                            <option value="VA">Virginia</option>
                            <option value="WA">Washington</option>
                            <option value="WV">West Virginia</option>
                            <option value="WI">Wisconsin</option>
                            <option value="WY">Wyoming</option>
                        </select>
<br />
                        <label for="{{POSTAL_CODE}}"> <b>* Postal Code</b></label>
                        <input type="text" name="{{POSTAL_CODE}}" id="{{POSTAL_CODE}}" size="10" value="" placeholder="00000-0000" autocomplete="on"/>
<br />
                        <label for="{{COUNTRY}}"><b>* Country</b></label>
                        <select name="{{COUNTRY}}" id="{{COUNTRY}}" autocomplete="on">
                            <option value="us">United States</option>
                            <option value="af">Afghanistan</option>
                            <option value="al">Albania</option>
                            <option value="dz">Algeria</option>
                            <option value="as">American Samoa (US)</option>
                            <option value="ad">Andorra</option>
                            <option value="ao">Angola</option>
                            <option value="ai">Anguilla (UK)</option>
                            <option value="ag">Antigua and Barbuda</option>
                            <option value="ar">Argentina</option>
                            <option value="am">Armenia</option>
                            <option value="aw">Aruba</option>
                            <option value="au">Australia</option>
                            <option value="at">Austria</option>
                            <option value="az">Azerbaijan</option>
                            <option value="bs">Bahamas</option>
                            <option value="bh">Bahrain</option>
                            <option value="bd">Bangladesh</option>
                            <option value="bb">Barbados</option>
                            <option value="by">Belarus</option>
                            <option value="be">Belgium</option>
                            <option value="bz">Belize</option>
                            <option value="bj">Benin</option>
                            <option value="bm">Bermuda (UK)</option>
                            <option value="bt">Bhutan</option>
                            <option value="bo">Bolivia</option>
                            <option value="ba">Bosnia and Herzegovina</option>
                            <option value="bw">Botswana</option>
                            <option value="br">Brazil</option>
                            <option value="vg">British Virgin Islands (UK)</option>
                            <option value="bn">Brunei Darussalam</option>
                            <option value="bg">Bulgaria</option>
                            <option value="bf">Burkina Faso</option>
                            <option value="bi">Burundi</option>
                            <option value="kh">Cambodia</option>
                            <option value="cm">Cameroon</option>
                            <option value="ca">Canada</option>
                            <option value="cv">Cape Verde</option>
                            <option value="ky">Cayman Islands (UK)</option>
                            <option value="cf">Central African Republic</option>
                            <option value="td">Chad</option>
                            <option value="cl">Chile</option>
                            <option value="cn">China</option>
                            <option value="cx">Christmas Island (AU)</option>
                            <option value="cc">Cocos (Keeling) Islands (AU)</option>
                            <option value="co">Colombia</option>
                            <option value="km">Comoros</option>
                            <option value="cd">Congo, Democratic Republic of the</option>
                            <option value="cg">Congo, Republic of the</option>
                            <option value="ck">Cook Islands (NZ)</option>
                            <option value="cr">Costa Rica</option>
                            <option value="ci">Cote d'Ivoire</option>
                            <option value="hr">Croatia</option>
                            <option value="cu">Cuba</option>
                            <option value="cy">Cyprus</option>
                            <option value="cz">Czech Republic</option>
                            <option value="dk">Denmark</option>
                            <option value="dj">Djibouti</option>
                            <option value="dm">Dominica</option>
                            <option value="do">Dominican Republic</option>
                            <option value="ec">Ecuador</option>
                            <option value="eg">Egypt</option>
                            <option value="sv">El Salvador</option>
                            <option value="gq">Equatorial Guinea</option>
                            <option value="er">Eritrea</option>
                            <option value="ee">Estonia</option>
                            <option value="et">Ethiopia</option>
                            <option value="fk">Falkland Islands (UK)</option>
                            <option value="fo">Faroe Islands (DK)</option>
                            <option value="fj">Fiji</option>
                            <option value="fi">Finland</option>
                            <option value="fr">France</option>
                            <option value="gf">French Guiana (FR)</option>
                            <option value="pf">French Polynesia (FR)</option>
                            <option value="ga">Gabon</option>
                            <option value="gm">Gambia</option>
                            <option value="ge">Georgia</option>
                            <option value="de">Germany</option>
                            <option value="gh">Ghana</option>
                            <option value="gi">Gibraltar (UK)</option>
                            <option value="gr">Greece</option>
                            <option value="gl">Greenland (DK)</option>
                            <option value="gd">Grenada</option>
                            <option value="gp">Guadeloupe (FR)</option>
                            <option value="gu">Guam (US)</option>
                            <option value="gt">Guatemala</option>
                            <option value="gn">Guinea</option>
                            <option value="gw">Guinea-Bissau</option>
                            <option value="gy">Guyana</option>
                            <option value="ht">Haiti</option>
                            <option value="va">Holy See (Vatican City)</option>
                            <option value="hn">Honduras</option>
                            <option value="hk">Hong Kong (CN)</option>
                            <option value="hu">Hungary</option>
                            <option value="is">Iceland</option>
                            <option value="in">India</option>
                            <option value="id">Indonesia</option>
                            <option value="ir">Iran</option>
                            <option value="iq">Iraq</option>
                            <option value="ie">Ireland</option>
                            <option value="il">Israel</option>
                            <option value="it">Italy</option>
                            <option value="jm">Jamaica</option>
                            <option value="jp">Japan</option>
                            <option value="jo">Jordan</option>
                            <option value="kz">Kazakstan</option>
                            <option value="ke">Kenya</option>
                            <option value="ki">Kiribati</option>
                            <option value="kp">Korea, Democratic People's Republic (North)</option>
                            <option value="kr">Korea, Republic of (South)</option>
                            <option value="kw">Kuwait</option>
                            <option value="kg">Kyrgyzstan</option>
                            <option value="la">Laos</option>
                            <option value="lv">Latvia</option>
                            <option value="lb">Lebanon</option>
                            <option value="ls">Lesotho</option>
                            <option value="lr">Liberia</option>
                            <option value="ly">Libya</option>
                            <option value="li">Liechtenstein</option>
                            <option value="lt">Lithuania</option>
                            <option value="lu">Luxembourg</option>
                            <option value="mo">Macau (CN)</option>
                            <option value="mk">Macedonia</option>
                            <option value="mg">Madagascar</option>
                            <option value="mw">Malawi</option>
                            <option value="my">Malaysia</option>
                            <option value="mv">Maldives</option>
                            <option value="ml">Mali</option>
                            <option value="mt">Malta</option>
                            <option value="mh">Marshall islands</option>
                            <option value="mq">Martinique (FR)</option>
                            <option value="mr">Mauritania</option>
                            <option value="mu">Mauritius</option>
                            <option value="yt">Mayotte (FR)</option>
                            <option value="mx">Mexico</option>
                            <option value="fm">Micronesia, Federated States of</option>
                            <option value="md">Moldova</option>
                            <option value="mc">Monaco</option>
                            <option value="mn">Mongolia</option>
                            <option value="me">Montenegro</option>
                            <option value="ms">Montserrat (UK)</option>
                            <option value="ma">Morocco</option>
                            <option value="mz">Mozambique</option>
                            <option value="mm">Myanmar</option>
                            <option value="na">Namibia</option>
                            <option value="nr">Nauru</option>
                            <option value="np">Nepal</option>
                            <option value="nl">Netherlands</option>
                            <option value="an">Netherlands Antilles (NL)</option>
                            <option value="nc">New Caledonia (FR)</option>
                            <option value="nz">New Zealand</option>
                            <option value="ni">Nicaragua</option>
                            <option value="ne">Niger</option>
                            <option value="ng">Nigeria</option>
                            <option value="nu">Niue</option>
                            <option value="nf">Norfolk Island (AU)</option>
                            <option value="mp">Northern Mariana Islands (US)</option>
                            <option value="no">Norway</option>
                            <option value="om">Oman</option>
                            <option value="pk">Pakistan</option>
                            <option value="pw">Palau</option>
                            <option value="pa">Panama</option>
                            <option value="pg">Papua New Guinea</option>
                            <option value="py">Paraguay</option>
                            <option value="pe">Peru</option>
                            <option value="ph">Philippines</option>
                            <option value="pn">Pitcairn Islands (UK)</option>
                            <option value="pl">Poland</option>
                            <option value="pt">Portugal</option>
                            <option value="pr">Puerto Rico (US)</option>
                            <option value="qa">Qatar</option>
                            <option value="re">Reunion (FR)</option>
                            <option value="ro">Romania</option>
                            <option value="ru">Russia</option>
                            <option value="rw">Rwanda</option>
                            <option value="sh">Saint Helena (UK)</option>
                            <option value="kn">Saint Kitts and Nevis</option>
                            <option value="lc">Saint Lucia</option>
                            <option value="pm">Saint Pierre and Miquelon (FR)</option>
                            <option value="vc">Saint Vincent and the Grenadines</option>
                            <option value="ws">Samoa</option>
                            <option value="sm">San Marino</option>
                            <option value="st">Sao Tome and Principe</option>
                            <option value="sa">Saudi Arabia</option>
                            <option value="sn">Senegal</option>
                            <option value="rs">Serbia</option>
                            <option value="cs">Serbia and Montenegro</option>
                            <option value="sc">Seychelles</option>
                            <option value="sl">Sierra Leone</option>
                            <option value="sg">Singapore</option>
                            <option value="sk">Slovakia</option>
                            <option value="si">Slovenia</option>
                            <option value="sb">Solomon Islands</option>
                            <option value="so">Somalia</option>
                            <option value="za">South Africa</option>
                            <option value="gs">South Georgia &amp; South Sandwich Islands (UK)</option>
                            <option value="es">Spain</option>
                            <option value="lk">Sri Lanka</option>
                            <option value="sd">Sudan</option>
                            <option value="sr">Suriname</option>
                            <option value="sz">Swaziland</option>
                            <option value="se">Sweden</option>
                            <option value="ch">Switzerland</option>
                            <option value="sy">Syria</option>
                            <option value="tw">Taiwan</option>
                            <option value="tj">Tajikistan</option>
                            <option value="tz">Tanzania</option>
                            <option value="th">Thailand</option>
                            <option value="tl">Timor-Leste</option>
                            <option value="tg">Togo</option>
                            <option value="tk">Tokelau</option>
                            <option value="to">Tonga</option>
                            <option value="tt">Trinidad and Tobago</option>
                            <option value="tn">Tunisia</option>
                            <option value="tr">Turkey</option>
                            <option value="tm">Turkmenistan</option>
                            <option value="tc">Turks and Caicos Islands (UK)</option>
                            <option value="tv">Tuvalu</option>
                            <option value="ug">Uganda</option>
                            <option value="ua">Ukraine</option>
                            <option selected="selected" value="ae">United Arab Emirates</option>
                            <option value="gb">United Kingdom</option>
                            <option value="uy">Uruguay</option>
                            <option value="uz">Uzbekistan</option>
                            <option value="vu">Vanuatu</option>
                            <option value="ve">Venezuela</option>
                            <option value="vn">Vietnam</option>

                            <option value="vi">Virgin Islands (US)</option>
                            <option value="wf">Wallis and Futuna (FR)</option>
                            <option value="eh">Western Sahara</option>
                            <option value="ye">Yemen</option>
                            <option value="zm">Zambia</option>
                            <option value="zw">Zimbabwe</option>
                        </select>
<br />
                        <label for="EMAIL"><b>* Cardholder's Email Address</b><br />
                            <i class="h6_nyu">Please enter the Email address of the credit card holder.</i></label>
                        <input type="text" name="EMAIL" id="EMAIL" size="30" value="" autocomplete="on"/>
<br />
                        <label for="PHONE"><b>* Cardholder's Phone Number</b><br />
                            <i class="h6_nyu">Please enter the phone number of the credit card holder.</i><br />
						example, <!--2129981212 (for USA) and -->+971501231234 (for international) 15 characters maximum</label>
						<input type="text" name="PHONE" id="PHONE" size="30" value="" autocomplete="on"/>

                        <br />
                        <br />
						<!-- Sub Heading 4-->
                        <!-- promo code field start -->
						<p>&nbsp;</p>
 						<h3 style="color: #57068c">4. Promo Code</h3>
<br />						
                        <label for="PROMO_CODE"><b>Promo Code</b><br />
                                <i class="h6_nyu">Please enter your promo code if you have one.</i>
                            </label>
                            <input type="text" name="PROMO_CODE" id="PROMO_CODE" size="30" value="" autocomplete="off"/>
                        <!-- promo code field end -->



                        <!-- sh370 added 9/13/2017 by request -->
						<!-- Sub Heading 5-->
						<p>&nbsp;</p>
 						<h3 style="color: #57068c">5. Terms of Service</h3>
						
                        <div>

                            <label class="ui-btn ui-corner-all ui-btn-inherit ui-btn-icon-left ui-checkbox-off"          for="AGREEMENT"> 
								<i>{{TERMS_OF_SERVICE}}</i> <br /><br />  </label>

                            <input type="checkbox" style="width: 20px;" id="AGREEMENT" name="AGREEMENT" value="agree" required />
                            <span class="requiredField" style="float: left; color: black; !important">* <b>I agree to terms </b></span>
                        </div>



                        <!-- end sh370 added  -->

                        <div class="section end">
                            <div class="fullSize">
               <span><button type="button" name="submit_button" onclick="someFunc()">Proceed to Payment</button>
               </span>
                            </div>
                        </div>
</form>
                </div> 	<!-- end fullSize -->
            </div>  <!-- end text section -->
            
        </div>  <!-- end formContainer -->

     


    </div>
    <!-- END tripleBox -->

    <!-- DO NOT ERASE -->
    <!-- Double (2-column) box -->
    <div class="doubleBox">

        <!-- CONTENT GOES HERE -->

  <h3>Event Information</h3>
        <br/>
		<!-- -->
        <a href="{{EVENT_URL}}">
        <img src="{{EVENT_IMG}}" alt="LOGO" width="auto" height="130">
        </a>
        

        <p>
            <strong>
                <a href="{{EVENT_URL}}">
                    {{EVENT_NAME}} 
                    <br/>
                </a>
            </strong>
            {{EVENT_DESCRIPTION}}
            <br/><br/>
            <strong>
                {{EVENT_ADDR_1}}<br/>
            </strong>
			{{EVENT_ADDR_2}} <br />
		    {{EVENT_ADDR_3}} <br />
           
			email: <a href="mailto:{{EVENT_EMAIL}}">{{EVENT_EMAIL}}</a>  
			<!-- <img src="" alt="LOGO" width="130" height="130"> -->
            
        </p>
		
<h3>Notice</h3>
        <p>New York University is committed to respecting your privacy. You can be assured that personal information will only be used by New York University to conduct official University business and personal information will never be disseminated to any unaffiliated third party.</p>
        <p><a href="https://www.nyu.edu/footer/copyright-and-fair-use/digital-privacy-statement.html" target="_blank">New York University's Privacy Policy</a></p>
        <br />
        <br />
		
<!--
        <ul>
            <li><a href="https://www.nyu.edu/about/leadership-university-administration/office-of-the-president/office-of-the-provost/university-life/office-of-studentaffairs/center-for-student-life.html" target="_blank">Center for Student Life</a></li>
            <li><a href="" target="_blank"></a></li>
            <li><a href="" title="" target="_blank"></a></li>
            <li><a href="" title="" target="_blank"></a></li>
        </ul>
-->



    </div>
    <!-- END doubleBox -->

</div>
<!-- END CONTENT WRAPPER -->
<script type="text/javascript">

    function validateForm() {

        var errorString = "";

        // Validate FORM_ID field (this is a hidden field on the form)
        if (document.getElementById('FORM_ID').value.length < 1) {
            errorString = errorString + "Form ID is required (this is a hidden field at top of form)\n";
        }

      //  verify that a positive numeric amount has been entered
       var amount = document.getElementById('{{AMOUNT_PAID}}').value;
       var amountValue = parseFloat(amount);

       if ( isNaN(amountValue) || amountValue < 0) {
           errorString = "The amount entered is invalid\n";
        }
		
		// Personal Info Fields Required
		if (document.getElementById('zreg_fname').value.length < 1) {
            errorString = errorString + "Registrant first name is a required field\n";
        }
		
		if (document.getElementById('zreg_lname').value.length < 1) {
            errorString = errorString + "Registrant sur name is a required field\n";
        }

		if (document.getElementById('regEMAIL').value.length < 1) {
            errorString = errorString + "Registrant email is a required field\n";
        }
		
		
		
//		if(document.querySelector('input[name="coursechoicex"]:checked') == null) {
//            errorString = errorString + "Choose a course option\n";
//        }

        // Validate Bill To Fields
        if (
            (document.getElementById('FIRST_NAME').value.length < 1)
            ||
            (document.getElementById('LAST_NAME').value.length < 1)
        ) {
            errorString = errorString + "Billing First and Last names are required\n";
        }

        if (document.getElementById('{{ADDRESS_LINE_1}}').value.length < 1) {
            errorString = errorString + "Billing Street Address is required\n";
        }

        if (document.getElementById('{{CITY}}').value.length < 1) {
            errorString = errorString + "Billing City is required\n";
        }

        var stateMenu = document.getElementById('{{STATE}}');
        var s = stateMenu.selectedIndex;
        var state = stateMenu.options[s].value;

        if (state == "") {
            errorString = errorString + "Billing State is required\n";
        }

    //    if (document.getElementById('POSTAL_CODE').value.length < 1) { 	
    //    errorString = errorString + "Billing Postal Code is required\n"; 	
	//	} 
	

        var countryMenu = document.getElementById('{{COUNTRY}}');
        var c = countryMenu.selectedIndex;
        var country = countryMenu.options[c].value;

        if (country == "") {
            errorString = errorString + "Billing Country is required\n";
        }

        if (document.getElementById('EMAIL').value.length < 1) {
            errorString = errorString + "Billing Email is required\n";
        }
        if (document.getElementById('PHONE').value.length < 10) {
        errorString = errorString + "Phone number must be 10-15 digits long with no spaces.\n example, '2129981212' or '+14155552641111'.\n";
        }
		
		

        //sh370 added 9/13
        if (document.getElementById('AGREEMENT').checked==false ) {
            errorString = errorString + "You must agree to terms before submitting\n";
        }

        if (errorString == "") {
            return true;
        }
        else {
            handleAppTypeChange1();
            alert(errorString);
            return false;
        }
    }



	
	
		getTRAN_EVT_4 = function() {
  var numVal1 = Number(document.getElementById("TRAN_EVT_1").value);		// User input value1
  var numVal2 = Number(document.getElementById("TRAN_EVT_2").value);		// User input value2		
  var numVal3 = Number(document.getElementById("TRAN_EVT_3").value);		// User input value3		
  var numVal3b = Number(document.getElementById("TRAN_EVT_3b").value);		// User input value4				
  var numVal4 = Number(document.getElementById("vatx").value);     			// vat percentage .05	
  var numVal5 = Number(document.getElementById("revenuex").value);			// Revenue percentage .95 or 1

  var totalValue1 = (((numVal1 + numVal2 + numVal3 + numVal3b) * numVal4) + ((numVal1 + numVal2 + numVal3 + numVal3b) * numVal5)); // Total
  var totalValue2 = (numVal1  * numVal5);    								// TRAN_EVT_1 revenue percent
  var totalValue3 = (numVal2  * numVal5);    								// TRAN_EVT_2 revenue percent
  var totalValue4 = (numVal3  * numVal5);    								// TRAN_EVT_3 revenue percent
  var totalValue4b = (numVal3b  * numVal5); 								// TRAN_EVT_3b revenue percent						
  var totalValue5 = (numVal1  * numVal4);  	 								// TRAN_EVT_1 vat amount
  var totalValue6 = (numVal2  * numVal4);  	 								// TRAN_EVT_2 vat amount
  var totalValue7 = (numVal3  * numVal4);    								// TRAN_EVT_3 vat amount
  var totalValue7b = (numVal3b  * numVal4);  								// TRAN_EVT_3b vat amount
  var totalValue8 = ((numVal1 + numVal2 + numVal3 + numVal3b) * numVal4);   // VAT only Summary
  var totalValue9 = ((numVal1 + numVal2 + numVal3 + numVal3b) * numVal5);   // Revenue only Summary
  var totalValue11 = (totalValue8 * 3.6725);  								// VAT conversion only Summary
  var totalValue12 = (((numVal1 * numVal5) ) + (numVal1 * numVal4)); 		// line 1 subtotal			
  var totalValue13 = ((numVal2 * numVal5) + (numVal2 * numVal4)); 			// line 2 subtotal	
  var totalValue14 = ((numVal3 * numVal5) + (numVal3 * numVal4)); 			// line 3 subtotal	
  var totalValue15 = ((numVal3b * numVal5) + (numVal3b * numVal4)); 		// line 3 subtotal				
  
  document.getElementById("TRAN_EVT_4").value = totalValue1.toFixed(2);		// Total
  document.getElementById("TRAN_EVT_5").value = totalValue2.toFixed(2);		// Revenue1 Less Vat	
  document.getElementById("TRAN_EVT_6").value = totalValue3.toFixed(2);		// Revenue2 Less Vat
  document.getElementById("TRAN_EVT_7").value = totalValue4.toFixed(2);		// Revenue3 Less Vat
  document.getElementById("TRAN_EVT_7b").value = totalValue4b.toFixed(2);	// Revenue4 Less Vat			
  document.getElementById("TRAN_EVT_8").value = totalValue5.toFixed(2);		// VAT Line1
  document.getElementById("TRAN_EVT_9").value = totalValue6.toFixed(2);		// VAT Line2
  document.getElementById("TRAN_EVT_10").value = totalValue7.toFixed(2);	// VAT Line3
  document.getElementById("TRAN_EVT_10b").value = totalValue7b.toFixed(2);	// VAT Line4			
  document.getElementById("TRAN_EVT_11").value = totalValue11.toFixed(2);	// VAT Total in AED
  document.getElementById("TRAN_EVT_12").value = totalValue12.toFixed(2);	// line1 Subtotal		
  document.getElementById("TRAN_EVT_13").value = totalValue13.toFixed(2);	// line1 Subtota2
  document.getElementById("TRAN_EVT_14").value = totalValue14.toFixed(2);	// line1 Subtota3
  document.getElementById("TRAN_EVT_15").value = totalValue15.toFixed(2);	// line1 Subtota4
  document.getElementById("TRAN_EVT_16").value = totalValue9.toFixed(2);	// GL Entry Line1 - Only way to show in report
  document.getElementById("TRAN_EVT_17").value = totalValue8.toFixed(2);	// GL Entry Line2 - Only way to show in report
  document.getElementById("{{AMOUNT_EVT_1}}").value = totalValue9.toFixed(2);   // REVENUE LINE TOTAL
  document.getElementById("{{AMOUNT_EVT_2}}").value = totalValue8.toFixed(2);   // VAT LINE TOTAL 
  document.getElementById("{{AMOUNT_PAID}}").value = totalValue1.toFixed(2);	// Total			
}


 
    document.addEventListener("DOMContentLoaded", function(event) {
        var form     = document.getElementById("TransactionFormAD");
        var nongift1 = document.getElementById("TRAN_EVT_1");
        var nongift2 = document.getElementById("TRAN_EVT_2");
	    var nongift3 = document.getElementById("TRAN_EVT_3");	
	    var nongift3b = document.getElementById("TRAN_EVT_3b");		
	    var nongift4 = document.getElementById("TRAN_EVT_4");
		var nongift5 = document.getElementById("TRAN_EVT_5");
		var nongift6 = document.getElementById("TRAN_EVT_6");
		var nongift7 = document.getElementById("TRAN_EVT_7");
		var nongift7b = document.getElementById("TRAN_EVT_7b");
		
		var nongift8 = document.getElementById("TRAN_EVT_8");
		var nongift9 = document.getElementById("TRAN_EVT_9");
		var nongift10 = document.getElementById("TRAN_EVT_10");
		var nongift10b = document.getElementById("TRAN_EVT_10b");
		var nongift11 = document.getElementById("TRAN_EVT_11");
		var nongift12 = document.getElementById("{{AMOUNT_EVT_1}}");// REVENUE
		var nongift13 = document.getElementById("{{AMOUNT_EVT_2}}");// VAT		
        var total    = document.getElementById("{{AMOUNT_PAID}}");

           nongift1.onfocus = calculatePaymentTotal;
           nongift1.onblur = calculatePaymentTotal;
	       nongift1.onchange = calculatePaymentTotal;
           nongift1.onkeyup = calculatePaymentTotal;
		   nongift2.onchange = calculatePaymentTotal;
           nongift2.onkeyup = calculatePaymentTotal;
		   nongift2.onfocus = calculatePaymentTotal;
		   nongift2.onblur = calculatePaymentTotal;
		   nongift3.onchange = calculatePaymentTotal;
           nongift3.onkeyup = calculatePaymentTotal;
		   nongift3.onfocus = calculatePaymentTotal;
	       nongift3.onblur = calculatePaymentTotal;
		   nongift3b.onchange = calculatePaymentTotal;
           nongift3b.onkeyup = calculatePaymentTotal;
		   nongift3b.onfocus = calculatePaymentTotal;
	       nongift3b.onblur = calculatePaymentTotal;

           nongift4.onchange = calculatePaymentTotal;
           nongift4.onkeyup = calculatePaymentTotal;
		   nongift4.onfocus = calculatePaymentTotal;
		   nongift4.onblur = calculatePaymentTotal;
		
//	       nongift5.onchange = calculatePaymentTotal;
//         nongift5.onkeyup = calculatePaymentTotal;
//		   nongift5.onfocus = calculatePaymentTotal;
//		   nongift5.onblur = calculatePaymentTotal;
		
		   total.onSubmit = calculatePaymentTotal;
    });

    function getIntValue(field) {
        /* sh370 changed 10/25 */
        var value = parseFloat(field);
        //var value = parseFloat(field.value);
        if (isNaN(value)) return 0;
        return value;
    }
	
    function calculatePaymentTotal() {
        /* sh370 added 10/25 */
        /* removes comma from the string so that value is recognized as number when parsed as float in getIntValue() */
        var nongift1 = document.getElementById("TRAN_EVT_1").value.replace(',', '');
		var nongift2 = document.getElementById("TRAN_EVT_2").value.replace(',', '');
		var nongift3 = document.getElementById("TRAN_EVT_3").value.replace(',', '');
		var nongift3b = document.getElementById("TRAN_EVT_3b").value.replace(',', '');		
		var nongift4 = document.getElementById("TRAN_EVT_4").value.replace(',', '');
		var nongift5 = document.getElementById("TRAN_EVT_5").value.replace(',', '');
		var nongift6 = document.getElementById("TRAN_EVT_6").value.replace(',', '');
		var nongift7 = document.getElementById("TRAN_EVT_7").value.replace(',', '');
		var nongift7b = document.getElementById("TRAN_EVT_7b").value.replace(',', '');		
		var nongift8 = document.getElementById("TRAN_EVT_8").value.replace(',', '');
		var nongift9 = document.getElementById("TRAN_EVT_9").value.replace(',', '');
		var nongift10 = document.getElementById("TRAN_EVT_10").value.replace(',', '');	
		var nongift10b = document.getElementById("TRAN_EVT_10b").value.replace(',', '');
		var nongift12 = document.getElementById("{{AMOUNT_EVT_1}}").value.replace(',', '');	//revenue
		var nongift13 = document.getElementById("{{AMOUNT_EVT_2}}").value.replace(',', ''); //vat			
        /* end sh37
		0 added */
        document.getElementById("{{AMOUNT_PAID}}").value = (getIntValue(nongift12) + getIntValue(nongift13));
		
		
        /* end sh370 added */
        return true;
    }
	

// onClick functions		
async function someFunc() {
        myFunction1();
		myFunction2();
		myFunction3();
		myFunction4();
		// myFunction5();
        // myFunction6();
		// myFunction7();
        const promoCodePassed = await checkPromoCode();
        if (!promoCodePassed) return;
        console.log('Form will be submitted right about now...');
        if (calculatePaymentTotal() && validateForm()) { document.forms[0].submit(); };
}


    var HashedPromoCodes = {
            'b76521c09e948df791e4d3f8aee11a47aa06a4981f716cea431a7bc2e8a31ab8': 25,  //test NIW25X
            '766360a6989aa4e2240eeb9094b77328815091a0fa6129c29f7597aa8552fc03': 50,  //test NIW50Q 
            '55b072e176278c120429d40bab2e080c3b0f6239b003b070dac4bc4bdde7640c': 100, //test NIW100P
        }

    async function hashPromoCode(promoCode) 
    {
        const salt = "ImP0ssiBLeToCRACK!!oQRg~<GCWC]mMFQ?FX[FdK/B4rZ#x5gQ+b7({Ou4-kL~W";
        const text = promoCode + salt;
        
        // Convert text to array buffer
        const encoder = new TextEncoder();
        const data = encoder.encode(text);

        // Hash using SHA-256
        const hashBuffer = await crypto.subtle.digest('SHA-256', data);

        // Convert hash buffer to hex string
        const hashArray = Array.from(new Uint8Array(hashBuffer));
        const hashHex = hashArray.map(byte => byte.toString(16).padStart(2, '0')).join('');

        console.log('Promo Code: ' + promoCode + '\nHashed Value: ' + hashHex);
        return hashHex;
    }

	async function checkPromoCode()
    {
        // This function shall return true or false.
        // if it returns true, then the process shall proceed (because promo is valid/did not enter promo).
        // if not, it should stall the submission process because user entered invalid promo.
        const promoCodeEntered = document.getElementById('PROMO_CODE').value;
        if (!promoCodeEntered) return true;
        const hashedPromoCode = await hashPromoCode(promoCodeEntered);
        if (HashedPromoCodes.hasOwnProperty(hashedPromoCode)) 
        {
            console.log('User entered a valid discount!');
            // apply discount.
            const discount = HashedPromoCodes[hashedPromoCode];
            transEvt1 = document.getElementById("TRAN_EVT_1")
            const oldValue = transEvt1.value;
            const newValue = (oldValue * (1 - discount * 0.01)).toFixed(2);
            transEvt1.value = newValue;                                                      // update subtotal.
            document.getElementById("TRAN_EVT_8").value = (newValue * 0.05).toFixed(2)       // update VAT.
            getTRAN_EVT_4();                                                                 // whatever this does.
            calculatePaymentTotal();                                                         // update total amount.
            console.log(`Value (no tax) before discount shall be ${oldValue} and new value shall be ${newValue}`);
            console.log(`Final amount to be paid after discount: ${document.getElementById("{{AMOUNT_PAID}}").value}`)
            alert('Valid Promo Code! ' + discount.toString() + '% discount has been applied.');
            return true;
        } else {
            console.log('User entered an invalid discount...');
            alert(`Invalid Promo Code: ${promoCodeEntered}`)
            document.getElementById('PROMO_CODE').value = '';
            return false;
        }
    }
	
// fill empty fields on click		
	function myFunction1() {
  document.getElementById('regEMAIL').defaultValue = "none_provided@nyu.edu";
	}
	function myFunction2() {
  document.getElementById('{{POSTAL_CODE}}').defaultValue = "00000-0000";
	}
	function myFunction3() {
  document.getElementById('zreg_fname').defaultValue = "empty";
	}
	function myFunction4() {
  document.getElementById('zreg_lname').defaultValue = "empty";
	}
//	function myFunction5() {
//  document.getElementById('PHONE').defaultValue = "212-000-0000";
//	}
//	function myFunction6() {
//  document.getElementById('affiliation1').defaultValue = "none provided";
//	}
//	function myFunction7() {
//  document.getElementById('age').defaultValue = "999";
//	}
		
		
    function handleAppTypeChange1() {
      const appTypeValue1 = document.getElementById("TRAN_APP_1").value;
      const AmtEvt1Elem1 = document.getElementById("TRAN_EVT_1");
      console.log("handleAppTypeChange1() called!!");
      console.log(appTypeValue1);
      switch (appTypeValue1) {
        case "none":
          AmtEvt1Elem1.value = "0";
          break;
		  case "registration137":
          AmtEvt1Elem1.value = "137";
          break;
        default:
          break;
      }

      // debug.
      // console.log("TRAN_EVT_1 is now " + AmtEvt1Elem1.value);
    }

    function handleAppTypeChange2() {
      const appTypeValue2 = document.getElementById("TRAN_APP_2").value;
      const AmtEvt1Elem2 = document.getElementById("TRAN_EVT_2");
      switch (appTypeValue2) {
        case "none":
          AmtEvt1Elem2.value = "0";
          break;

		  case "decline1":
          AmtEvt1Elem2.value = "0";
          break;
        case "Presentation1Addon":
          AmtEvt1Elem2.value = "200";
          break;
        default:
          break;
      }

      // debug.
      // console.log("TRAN_EVT_2 is now " + AmtEvt1Elem2.value);
    }
	
    function handleAppTypeChange3() {
      const appTypeValue3 = document.getElementById("TRAN_APP_3").value;
      const AmtEvt1Elem3 = document.getElementById("TRAN_EVT_3");
      switch (appTypeValue3) {
		  case "none":
          AmtEvt1Elem3.value = "0";
          break;

		  case "decline2":
          AmtEvt1Elem3.value = "0";
          break;
        case "POverLengthAddon":
          AmtEvt1Elem3.value = "165";
          break;
        default:
          break;
      }

      // debug.
      // console.log("TRAN_EVT_3 is now " + AmtEvt1Elem3.value);
    }
	
    function handleAppTypeChange3b() {
      const appTypeValue3b = document.getElementById("TRAN_APP_3b").value;
      const AmtEvt1Elem3b = document.getElementById("TRAN_EVT_3b");
      switch (appTypeValue3b) {
		  case "none":
          AmtEvt1Elem3b.value = "0";
          break;

		  case "decline3":
          AmtEvt1Elem3b.value = "0";
          break;
          case "Banquet1Addon":
          AmtEvt1Elem3b.value = "50";
          break;
          case "Banquet2Addon":
          AmtEvt1Elem3b.value = "100";
          break;
          case "Banquet3Addon":
          AmtEvt1Elem3b.value = "150";
          break;
          case "Banquet4Addon":
          AmtEvt1Elem3b.value = "200";
          break;
          case "Banquet5Addon":
          AmtEvt1Elem3b.value = "250";
          break;
          case "Banquet6Addon":
          AmtEvt1Elem3b.value = "300";
          break;
			  
			  

		  
		  
		  default:
          break;
      }

      // debug.
      // console.log("TRAN_EVT_3b is now " + AmtEvt1Elem3b.value);
    }
	
	

</script>
<!-- DO NOT ERASE -->
		<!-- Begin Footer -->
		<div class="nyuFooter">

			<!-- DIVIDER -->
			<hr class="invisible" />
	
			<!-- FOOTER -->
			<div id="footerContainer">
	
				<!-- Begin Local Footer -->
		
		<!-- h6 title is header for Accessibility purposes -->
		
		<!--
		<h6 class="offLeft">NYU Footer</h6>
		<ul>
		-->
			<!-- use this format if footer links are going to be used -->
			<!--
			<li class="first"><a href="page1.html">Page 1</a></li>
			<li><a href="page2.html">Page 2</a></li>
			<li><a href="page3.html">Page 3</a></li>
			<li><a href="page4.html">Page 4</a></li>
			-->	
			<!-- only used for high profile page like Feedback on the nyu.edu site -->
		<!--
			<li class="last"><a href="page5.html">Page 5</a></li>
		</ul>
		-->

<!-- End Local Footer --> 
			

				<p>Unless otherwise noted, all content copyright New York University. All rights reserved.<br>
				Designed by the Digital Communications Group.</p>			
			</div>
	
		<!-- END FOOTER -->	
	
			<script type="text/javascript"> Cufon.now(); </script></div>

		<!-- End Footer --> 
		</div>
		
		<!-- Insert Google Analytics code here -->			
		
	</body>
</html>


